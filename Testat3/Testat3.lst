     1                                  extern printf
     2                                  extern atoi
     3                                  
     4                                  section .data
     5 00000000 2564200A00              	decformat: db `%d \n`,0
     6                                  
     7                                  section .text
     8                                  
     9                                  global main
    10                                  main:
    11 00000000 55                      	push ebp
    12 00000001 89E5                    	mov ebp, esp
    13                                  
    14                                  ; Check if 1 arg
    15 00000003 8B4508                  	mov eax, [ebp+8]
    16 00000006 83F802                  	cmp eax, 2
    17 00000009 754F                    	jne error
    18                                  
    19                                  	; Check arg > 0
    20 0000000B 8B5D0C                  	mov ebx, [ebp +12]
    21 0000000E FF7304                  	push dword[ebx+4]
    22 00000011 E8(00000000)            	call atoi
    23 00000016 83C404                  	add esp, 4
    24 00000019 89C3                    	mov ebx, eax
    25 0000001B 83FB00                  	cmp ebx, 0
    26 0000001E 7E3A                    	jng error
    27                                  
    28                                  arbeit:
    29 00000020 53                      	push ebx
    30 00000021 68[00000000]            	push decformat
    31 00000026 E8(00000000)            	call printf
    32 0000002B 83C404                  	add esp, 4
    33                                  
    34 0000002E 5B                      	pop ebx
    35 0000002F 83FB01                  	cmp ebx, 1
    36 00000032 7426                    	je ende
    37                                  
    38 00000034 89D8                    	mov eax, ebx
    39 00000036 99                      	cdq
    40 00000037 B902000000              	mov ecx, 2
    41 0000003C F7F9                    	idiv ecx
    42 0000003E 83FA00                  	cmp edx, 0
    43 00000041 7402                    	je gerade
    44 00000043 EB04                    	jmp ungerade
    45                                  
    46                                  gerade:
    47                                  	;fall gerade
    48 00000045 89C3                    	mov ebx, eax
    49 00000047 EBD7                    	jmp arbeit
    50                                  
    51                                  ungerade:
    52                                  	;fall unegarde
    53 00000049 89D8                    	mov eax, ebx
    54 0000004B B903000000              	mov ecx, 3
    55 00000050 0FAFC1                  	imul eax, ecx
    56 00000053 83C001                  	add eax, 1
    57 00000056 89C3                    	mov ebx, eax
    58 00000058 EBC6                    	jmp arbeit
    59                                  error:
    60                                  ende:
    61 0000005A 83C404                  	add esp, 4
    62 0000005D 89EC                    	mov esp, ebp
    63 0000005F 5D                      	pop ebp
    64 00000060 C3                      ret
    65                                  
    66                                  
